<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <title>All Tags</title>
    <link rel="stylesheet" href="/style.css"/>
  </head>
  <body>
    <?php include_once($_SERVER['DOCUMENT_ROOT'] . "/NavBar.html"); ?>
    <main>
      <ul class=TagCloud>
        <?php
          include_once($_SERVER['DOCUMENT_ROOT'] . "/DatabaseFunctions.php");
        	$queryResults = BS_QueryDatabase("SELECT *, COUNT(*) FROM Tags t INNER JOIN PostTags pt ON pt.TagID = t.ID WHERE t.IsCategory = 0 GROUP BY t.ID ORDER BY Name ASC");

          // Print the Category names extracted from the database query
          while($row = $queryResults->fetch_assoc())
          {
            $tagName = $row["Name"];
            $count = $row["COUNT"];
            echo "<li><a class=Tag style=\"font-size:{$count}px;\" href=\"/TagSearch.html?searchString=$tagName\">$tagName</a></li>";
          }
        ?>
      </ul>
    </main>
  </body>
</html>
